# ============================================================
# Mirage Kubernetes Cluster - Environment Variables
# ============================================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to git (already in .gitignore)
# ============================================================

# ============================================================
# AUGUR (API Service)
# ============================================================
# Django secret key - generate with: python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
AUGUR_SECRET_KEY=your-django-secret-key-here

# Comma-separated list of allowed hosts
AUGUR_ALLOWED_HOSTS=augur.pinwheel.fan,localhost,127.0.0.1

# Database credentials for Augur
AUGUR_DB_USER=augur_user
AUGUR_DB_PASSWORD=augur_password_here

# CORS configuration - comma-separated origins
AUGUR_CORS_ALLOWED_ORIGINS=https://luna.pinwheel.fan,http://localhost:3000

# Dreamflow/Airflow credentials for Augur to access Airflow API
AUGUR_DREAMFLOW_USER=airflow_admin_user
AUGUR_DREAMFLOW_PASSWORD=airflow_admin_password


# ============================================================
# ATLAS (PostgreSQL Database)
# ============================================================
# Main PostgreSQL database credentials
ATLAS_POSTGRES_USER=postgres
ATLAS_POSTGRES_PASSWORD=postgres_password


# ============================================================
# LUNA (Frontend Application)
# ============================================================
# Augur API host URL for Luna frontend
LUNA_AUGUR_HOST=https://augur.pinwheel.fan


# ============================================================
# DREAMFLOW (Apache Airflow)
# ============================================================
# Airflow project directory
AIRFLOW_PROJ_DIR=/opt/airflow

# Airflow home directory
AIRFLOW_HOME=/opt/airflow

# PostgreSQL connection string for Airflow
# Format: postgresql+psycopg2://user:password@host:port/database
AIRFLOW_CONN_POSTGRES_DEFAULT=postgresql+psycopg2://airflow_user:airflow_password@atlas-service.galaxy.svc.cluster.local:5432/airflow

# SQL Alchemy connection strings (usually same as above)
AIRFLOW__DATABASE__SQL_ALCHEMY_CONN=postgresql+psycopg2://airflow_user:airflow_password@atlas-service.galaxy.svc.cluster.local:5432/airflow
AIRFLOW__CORE__SQL_ALCHEMY_CONN=postgresql+psycopg2://airflow_user:airflow_password@atlas-service.galaxy.svc.cluster.local:5432/airflow


# ============================================================
# ORACLE (Database Migration Job)
# ============================================================
# PostgreSQL connection string for Oracle migrations
# Format: postgresql://user:password@host:port/database
POSTGRES_DB_URL=postgresql://oracle_user:oracle_password@atlas-service.galaxy.svc.cluster.local:5432/oracle_db


# ============================================================
# DOPPLER (Photo Service) - S3 Credentials
# ============================================================
# Get these from Garage after creating a key:
# kubectl exec garage-0 -n galaxy -- /garage -c /etc/garage.toml key create doppler-key
# kubectl exec garage-0 -n galaxy -- /garage -c /etc/garage.toml key info doppler-key
S3_ACCESS_KEY_ID=GKyour-access-key-from-garage
S3_SECRET_ACCESS_KEY=your-secret-key-from-garage-here


# ============================================================
# GARAGE (S3-Compatible Storage)
# ============================================================
# RPC secret for Garage - auto-generated, no need to set manually
# This will be generated automatically with: openssl rand -hex 32
# GARAGE_RPC_SECRET=<auto-generated-64-char-hex-string>


#  1. Service URLs (internal Kubernetes DNS):
#    - PostgreSQL: atlas-service.galaxy.svc.cluster.local:5432
#    - Redis: dreamflow-redis-service.galaxy.svc.cluster.local:6379
#    - Augur API: augur-service.galaxy.svc.cluster.local:8000
#    - Garage S3: http://garage-s3.galaxy.svc.cluster.local:3900
#
# 2. External URLs (configure in your ingress):
#    - Luna: https://luna.pinwheel.fan
#    - Augur: https://augur.pinwheel.fan
#    - Dreamflow: https://dreamflow.pinwheel.fan
#
# ============================================================

